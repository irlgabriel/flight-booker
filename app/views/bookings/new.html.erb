
<h1 class="text-center my-2">New Booking</h1>

<div class="card mb-3 mx-auto" style="width: 18rem;">
  <div class="card-body">
    <h4 class="card-title text-primary"><strong>Odin Airways!</strong></h4>
    <h5 class="card-subtitle mb-2 text-muted">FROM: <strong><%= link_to @from, '' %></strong></h5>
    <h5 class="card-subtitle text-muted">TO : <strong><%= link_to @to, '' %></strong></h5>
    <p class="card-text mt-3">Departure time: <strong class="text-primary"><%= @flight.departure_time.strftime('%d/%m/%Y') %></strong></p>
    <p class="card-text">Travel duration: <strong class="text-primary"><%= @flight.travel_duration %></strong></p>
    <p class="card-text">No. of passengers: <strong class="text-primary"><%= params[:passengers] %></strong></p>
  </div>
</div>

<h3 class="text-primary text-center">Passenger Details!</h3>

<%= form_for @booking do |f| %>
  <div class="form-group mx-auto" style="width: 33rem;">
    <% @passengers.times do |no| %>

      <h3 class="text-center text-warning"><%= "Passenger #{no + 1}"%></h3>
      <%= f.fields_for :passengers  do |ff| %>
        <div class="form-group text-center">
          <%= ff.label :first_name, "First name" %>
          <%= ff.text_field :first_name, class:'form-control' %>
        </div>

        <div class="form-group text-center">
          <%= ff.label :last_name, "Last name" %>
          <%= ff.text_field :last_name, class:'form-control' %>
        </div>

        <div class="form-group text-center">
          <%= ff.label :email, "Email" %>
          <%= ff.text_field :email, class:'form-control' %>
        </div>
      <% end %>
    <hr class="my-5" />
    <% end %>

  <%= f.hidden_field :flight_id, value: params[:flight_id] %>
  <%= f.submit :Book, value:"Book This Flight", class:"btn btn-primary text-center mx-auto" %>

  </div>
<% end %>